import sys
from typing import List

""" åŠ›æ‰£æµ‹è¯•(å¡«å‡½æ•°é£æ ¼) """


# æµ‹è¯•é“¾æ¥:https://leetcode.cn/problems/sort-an-array/
# ç›´æ¥æŠŠä¸‹é¢çš„Solutionç±»å¤åˆ¶åˆ°åŠ›æ‰£é‡Œé¢,pythonæ•ˆç‡ä¸æ˜¯å¤ªé«˜800mså·¦å³

class Solution:
    def sortArray(self, nums: List[int]) -> List[int]:
        if len(nums) < 1: return nums
        self.heapSort(nums)
        return nums

    # â±ï¸ æ—¶é—´å¤æ‚åº¦: O(log n) - å®Œå…¨äºŒå‰æ ‘é«˜åº¦å†³å®š
    # ğŸ”¼ å‘ä¸Šè°ƒæ•´ç®—æ³•:å°†æ–°å…ƒç´ æ’å…¥åˆ°å †çš„åˆé€‚ä½ç½®
    # ğŸ¯ åŠŸèƒ½:iä½ç½®çš„æ•°å‘ä¸Šè°ƒæ•´æˆä¸ºå¤§æ ¹å †,arr[i]=xæ˜¯æ–°æ¥çš„å…ƒç´ ,å‘ä¸Šæ¯”è¾ƒç›´åˆ°ä¸å¤§äºçˆ¶èŠ‚ç‚¹æˆ–åˆ°è¾¾å †é¡¶
    def heapInsert(self, arr: list[int], i: int) -> None:
        # ğŸ”„ å¾ªç¯æ¡ä»¶:ä¸æ˜¯æ ¹èŠ‚ç‚¹ä¸”å½“å‰èŠ‚ç‚¹å€¼å¤§äºçˆ¶èŠ‚ç‚¹å€¼
        while i > 0 and (arr[i] > arr[(i - 1) // 2]):
            # ğŸ” äº¤æ¢æ“ä½œ:å½“å‰èŠ‚ç‚¹ä¸çˆ¶èŠ‚ç‚¹äº¤æ¢ä½ç½®
            arr[i], arr[(i - 1) // 2] = arr[(i - 1) // 2], arr[i]
            # â¬†ï¸ ä½ç½®æ›´æ–°:ç»§ç»­å‘ä¸Šå±‚æ£€æŸ¥,ç›´åˆ°æ»¡è¶³å¤§æ ¹å †æ¡ä»¶
            i = (i - 1) // 2

    # ğŸ”½ å‘ä¸‹è°ƒæ•´ç®—æ³•:å½“æŸä¸ªèŠ‚ç‚¹å€¼å˜å°æ—¶,é‡æ–°è°ƒæ•´å †ç»“æ„
    # ğŸ“ åŠŸèƒ½:ç»´æŒå¤§æ ¹å †ç‰¹æ€§,arr[i]çš„æ•°å‘ä¸‹æ²‰é™åˆ°åˆé€‚ä½ç½®
    # â±ï¸ æ—¶é—´å¤æ‚åº¦: O(log n) - æœ€å¤šæ¯”è¾ƒæ ‘çš„é«˜åº¦æ¬¡
    def heapify(self, arr: list[int], i: int, size: int) -> None:
        l: int = 2 * i + 1  # ğŸ‘ˆ è®¡ç®—å·¦å­©å­ç´¢å¼•:å®Œå…¨äºŒå‰æ ‘æ€§è´¨

        # ğŸ”„ å¾ªç¯æ¡ä»¶ï¼šå­˜åœ¨å·¦å­©å­(æœ‰å·¦å­©å­æ‰éœ€è¦å‘ä¸‹è°ƒæ•´)
        while l < size:
            # ğŸ† é€‰æ‹©è¾ƒå¤§å­©å­:æ¯”è¾ƒå·¦å³å­©å­,é€‰æ‹©å€¼æ›´å¤§çš„é‚£ä¸ª
            # ğŸ‘‰ åˆ¤æ–­é€»è¾‘ï¼šå­˜åœ¨å³å­©å­ä¸”å³å­©å­å€¼ > å·¦å­©å­å€¼ ? é€‰æ‹©å³å­©å­ : é€‰æ‹©å·¦å­©å­
            best: int = l + 1 if l + 1 < size and arr[l + 1] > arr[l] else l

            # ğŸ¥Š å† å†›æŒ‘æˆ˜ï¼šæ¯”è¾ƒå½“å‰èŠ‚ç‚¹ä¸è¾ƒå¤§å­©å­çš„å€¼
            # ğŸ‘‘ é€‰æ‹©é€»è¾‘ï¼šè¾ƒå¤§å­©å­å€¼ > å½“å‰èŠ‚ç‚¹å€¼ ? é€‰æ‹©å­©å­ : ä¿æŒå½“å‰èŠ‚ç‚¹
            best = best if arr[best] > arr[i] else i

            # âœ… ç»ˆæ­¢æ¡ä»¶:å½“å‰èŠ‚ç‚¹å·²ç»æ˜¯æœ€å¤§å€¼,ä¸éœ€è¦ç»§ç»­è°ƒæ•´
            if best == i: break  # è·³å‡ºå¾ªç¯

            # ğŸ” ä½ç½®äº¤æ¢ï¼šå½“å‰èŠ‚ç‚¹ä¸è¾ƒå¤§å­©å­äº¤æ¢ä½ç½®
            arr[i], arr[best] = arr[best], arr[i]

            # ğŸ“ ç´¢å¼•æ›´æ–°:ç§»åŠ¨åˆ°äº¤æ¢åçš„ä½ç½®ç»§ç»­æ£€æŸ¥
            i = best

            # ğŸ‘‡ é‡æ–°è®¡ç®—:æ›´æ–°å·¦å­©å­ç´¢å¼•,å‡†å¤‡ä¸‹ä¸€è½®æ¯”è¾ƒ
            l = i * 2 + 1

    def heapSort(self, arr: list[int]) -> None:
        # ğŸ—ï¸ å»ºå †é˜¶æ®µ:å°†æ— åºæ•°ç»„æ„å»ºæˆå¤§æ ¹å †,ä»é¡¶åˆ°åº•å»ºå †
        # â±ï¸ æ—¶é—´å¤æ‚åº¦: O(n log n) - æ¯ä¸ªå…ƒç´ æ‰§è¡Œä¸€æ¬¡O(log n)æ“ä½œ
        n: int = len(arr)

        # ğŸ”„ é€ä¸ªæ’å…¥:ä»ç¬¬äºŒä¸ªå…ƒç´ å¼€å§‹,æ¯ä¸ªå…ƒç´ éƒ½æ‰§è¡Œå‘ä¸Šè°ƒæ•´
        for i in range(n):
            self.heapInsert(arr, i)

        size: int = n  # ğŸ“Š å †å¤§å°åˆå§‹åŒ–:å¼€å§‹æ—¶æ•´ä¸ªæ•°ç»„éƒ½æ˜¯å †

        # ğŸ¯ æ’åºé˜¶æ®µï¼šä¾æ¬¡æå–æœ€å¤§å€¼å¹¶è°ƒæ•´å †
        # â±ï¸ æ—¶é—´å¤æ‚åº¦: O(n log n) - æ‰§è¡Œn-1æ¬¡O(log n)æ“ä½œ
        while size > 1:
            size -= 1  # ğŸ“‰ å †å¤§å°å‡1:ä¸ºå½“å‰æœ€å¤§å€¼è…¾å‡ºæœ«å°¾ä½ç½®

            # ğŸ” äº¤æ¢æ“ä½œ:å°†å †é¡¶æœ€å¤§å€¼äº¤æ¢åˆ°å½“å‰å †çš„æœ«å°¾
            # ğŸ’¡ å †é¡¶arr[0]å§‹ç»ˆæ˜¯å½“å‰å †ä¸­çš„æœ€å¤§å€¼
            arr[0], arr[size] = arr[size], arr[0]

            # ğŸ”§ å †è°ƒæ•´ï¼šå¯¹æ–°å †é¡¶å…ƒç´ æ‰§è¡Œå‘ä¸‹è°ƒæ•´ï¼Œæ¢å¤å¤§æ ¹å †æ€§è´¨
            # ğŸ¯ è°ƒæ•´åï¼Œå †é¡¶åˆæ˜¯å‰©ä½™å…ƒç´ ä¸­çš„æœ€å¤§å€¼
            self.heapify(arr, 0, size)


""" æ´›è°·æµ‹è¯•(ACMé£æ ¼) """
# æµ‹è¯•é“¾æ¥:https://www.luogu.com.cn/problem/P1177
# ç›´æ¥æŠŠè¿™ä¸ªæ–‡ä»¶å¤åˆ¶åˆ°æ´›è°·é‡Œé¢å°±å¯ä»¥äº†

if __name__ == "__main__":
    # è¯»å–è¾“å…¥
    n = int(sys.stdin.readline().strip())
    arr = list(map(int, sys.stdin.readline().strip().split()))
    # åˆ›å»ºè§£å†³æ–¹æ¡ˆå®ä¾‹å¹¶æ’åº
    solution = Solution()
    solution.sortArray(arr)  # åŸåœ°æ’åº
    # è¾“å‡ºç»“æœ
    print(" ".join(map(str, arr)))  # ç›´æ¥è¾“å‡ºå·²æ’åºçš„arr
