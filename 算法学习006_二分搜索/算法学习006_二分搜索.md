# ğŸ“˜ ç®—æ³•è®²è§£ 006ã€å…¥é—¨ã€‘äºŒåˆ†æœç´¢

> **è®²å¸ˆ**ï¼šå·¦ç¨‹äº‘
> **å‰ç½®çŸ¥è¯†**ï¼šæ— 

---

## ğŸŒŸ è¯¾ç¨‹æ¦‚è¦

æœ¬èŠ‚è¯¾ä¸»è¦é€šè¿‡äºŒåˆ†æœç´¢ï¼ˆBinary Searchï¼‰è§£å†³ä»¥ä¸‹æ ¸å¿ƒé—®é¢˜ã€‚å»ºè®®å³ä½¿äº†è§£åŸºç¡€çš„åŒå­¦ä¹Ÿä¸è¦è·³è¿‡ç¬¬ 2ã€3ã€4 éƒ¨åˆ†çš„å†…å®¹ã€‚

1.  **åŸºç¡€æŸ¥æ‰¾**ï¼šåœ¨æœ‰åºæ•°ç»„ä¸­ç¡®å®š num æ˜¯å¦å­˜åœ¨ã€‚
2.  **æŸ¥æ‰¾å·¦è¾¹ç•Œ**ï¼šåœ¨æœ‰åºæ•°ç»„ä¸­æ‰¾ >= num çš„**æœ€å·¦**ä½ç½®ã€‚
3.  **æŸ¥æ‰¾å³è¾¹ç•Œ**ï¼šåœ¨æœ‰åºæ•°ç»„ä¸­æ‰¾ <= num çš„**æœ€å³**ä½ç½®ã€‚
4.  **æ— åºäºŒåˆ†**ï¼šäºŒåˆ†æœç´¢**ä¸ä¸€å®š**åªå‘ç”Ÿåœ¨æœ‰åºæ•°ç»„ä¸Šï¼ˆä¾‹å¦‚ï¼šå¯»æ‰¾å³°å€¼é—®é¢˜ï¼‰ã€‚
5.  **è¿›é˜¶é¢„å‘Š**ï¼šâ€œäºŒåˆ†ç­”æ¡ˆæ³•â€å°†åœ¨ã€å¿…å¤‡ã€‘è¯¾ç¨‹ä¸­ç»§ç»­è®²è§£ã€‚

---

## âš¡ æ ¸å¿ƒæ¦‚å¿µä¸å¤æ‚åº¦

* **æœç´¢æ¬¡æ•°**ï¼šå¦‚æœæ•°ç»„é•¿åº¦ä¸º nï¼ŒäºŒåˆ†æœç´¢çš„æœç´¢æ¬¡æ•°ä¸º log n æ¬¡ï¼ˆä»¥ 2 ä¸ºåº•ï¼‰ã€‚
* **æ—¶é—´å¤æ‚åº¦**ï¼šO(log n)ã€‚

---

## ğŸ”ï¸ é‡ç‚¹æ¡ˆä¾‹ï¼šå¯»æ‰¾å³°å€¼ (Find Peak Element)

è¿™æ˜¯ä¸€ä¸ªç»å…¸çš„**åœ¨æ— åºæ•°ç»„ä¸­ä½¿ç”¨äºŒåˆ†æœç´¢**çš„æ¡ˆä¾‹ã€‚

### é¢˜ç›®æè¿°
* **å³°å€¼å®šä¹‰**ï¼šå³°å€¼å…ƒç´ æ˜¯æŒ‡å…¶å€¼ä¸¥æ ¼**å¤§äº**å·¦å³ç›¸é‚»å€¼çš„å…ƒç´ ã€‚
* **è¾“å…¥**ï¼šç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ numsï¼Œå·²çŸ¥**ä»»ä½•ä¸¤ä¸ªç›¸é‚»çš„å€¼éƒ½ä¸ç›¸ç­‰**ã€‚
* **ç›®æ ‡**ï¼šæ‰¾åˆ°å³°å€¼å…ƒç´ å¹¶è¿”å›å…¶ç´¢å¼•ã€‚
* **å¤šå³°å€¼æƒ…å†µ**ï¼šæ•°ç»„å¯èƒ½åŒ…å«å¤šä¸ªå³°å€¼ï¼Œè¿”å› **ä»»ä½•ä¸€ä¸ª** å³°å€¼æ‰€åœ¨ä½ç½®å³å¯ã€‚
* **è¾¹ç•Œå‡è®¾**ï¼šä½ å¯ä»¥å‡è®¾ nums[-1] = nums[n] = æ— ç©·å° (-âˆ)ã€‚
* **è¦æ±‚**ï¼šå¿…é¡»å®ç°æ—¶é—´å¤æ‚åº¦ä¸º O(log n) çš„ç®—æ³•ã€‚

### ğŸ”— æµ‹è¯•é“¾æ¥
[LeetCode 162. å¯»æ‰¾å³°å€¼](https://leetcode.cn/problems/find-peak-element/)



## ğŸ’» æ ¸å¿ƒä»£ç å®ç°

### 1.åŸºç¡€äºŒåˆ†

```python
# ==========================================
# âš¡ï¸ [å¾…æµ‹æ–¹æ³•] äºŒåˆ†æŸ¥æ‰¾ O(logN)
# ==========================================
def exist(arr: list[int], num: int) -> bool:
    n: int = len(arr)
    if n == 0: return False
    l: int = 0
    r: int = n - 1
    m: int = 0
    # ğŸ“ æ ¸å¿ƒå¾ªç¯: åªè¦åŒºé—´ [l, r] æœ‰æ•ˆå°±ç»§ç»­
    while l <= r:
        # ä½¿ç”¨pythonè¯­è¨€ä¸ç”¨æ‹…å¿ƒæº¢å‡ºçš„é—®é¢˜,
        # ä½†æ˜¯è¦æ³¨æ„: // è¡¨ç¤ºæ•´é™¤ (å‘ä¸‹å–æ•´)
        m = (l + r) // 2
        if arr[m] == num:
            return True  # ğŸ¯ æ‰¾åˆ°äº†
        elif arr[m] > num:
            r = m - 1  # å¤ªå¤§äº†, å»å·¦è¾¹æ‰¾
        else:
            l = m + 1  # å¤ªå°äº†, å»å³è¾¹æ‰¾
    return False
```

---

### 2.æŸ¥æ‰¾å·¦è¾¹ç•Œ

```python
def find_left(arr: list[int], num: int) -> int:
    # è¾¹ç•Œå¤„ç†: ç©ºæ•°ç»„ç›´æ¥è¿”å› -1
    if len(arr) == 0:
        return -1

    l: int = 0  # å·¦è¾¹ç•Œ
    r: int = len(arr) - 1  # å³è¾¹ç•Œ
    m: int = 0  # ä¸­é—´ç‚¹ç´¢å¼•
    ans: int = -1  # åˆå§‹åŒ–ç­”æ¡ˆä¸º -1 (è¡¨ç¤ºæœªæ‰¾åˆ°)

    # ç»å…¸äºŒåˆ†å¾ªç¯: å½“å·¦è¾¹ç•Œä¸è¶…è¿‡å³è¾¹ç•Œæ—¶æŒç»­æŸ¥æ‰¾
    while l <= r:
        m = l + (r - l) // 2  # è®¡ç®—ä¸­é—´ä½ç½® (é˜²æ­¢æº¢å‡ºå†™æ³•)

        # æ ¸å¿ƒé€»è¾‘: å¯»æ‰¾ >= num çš„ä½ç½®
        if arr[m] >= num:
            ans = m  # 1. è¿™æ˜¯ä¸€ä¸ªå¯èƒ½çš„ç­”æ¡ˆ, å…ˆè®°å½•ä¸‹æ¥
            r = m - 1  # 2. è´ªå¿ƒç­–ç•¥: ç¼©å°å³è¾¹ç•Œ, å¾€å·¦è¾¹ç»§ç»­æ‰¾æ›´é å‰çš„
        else:
            l = m + 1  # å½“å‰å€¼å¤ªå° (< num), ç­”æ¡ˆä¸€å®šåœ¨å³è¾¹, ç¼©å°å·¦è¾¹ç•Œ

    return ans  # è¿”å›æ‰¾åˆ°çš„æœ€å·¦ä½ç½®ç´¢å¼•, æ²¡æ‰¾åˆ°åˆ™ä¸º -1
```

### 3.æŸ¥æ‰¾å³è¾¹ç•Œ

```python
def find_right(arr: list[int], num: int) -> int:
    l, r = 0, len(arr) - 1
    m: int = 0
    ans: int = -1
    while l <= r:
        m = l + ((r - l) >> 1)
        if arr[m] <= num:
            ans = m  # 1. æ»¡è¶³æ¡ä»¶(<=), è®°å½•ç­”æ¡ˆ
            l = m + 1  # 2. å¾€ã€å³ã€‘è¾¹ç»§ç»­æ‰¾
        else:
            r = m - 1  # 3. å¤ªå¤§äº†, å¾€å·¦è¾¹ç¼©
    return ans
```

### 4.å¯»æ‰¾å³°å€¼

```python
from typing import List
class Solution:
    def findPeakElement(self, nums: List[int]) -> int:
        n: int = len(nums)
        # ğŸ›¡ï¸ è¾¹ç•Œ 1: åªæœ‰ä¸€ä¸ªå…ƒç´ , å¿…ä¸ºå³°å€¼
        if n == 1: return 0
        # ğŸ›¡ï¸ è¾¹ç•Œ 2: æ£€æŸ¥ç¬¬ 0 ä¸ªä½ç½®
        # å› ä¸º nums[-1] ä¸ºè´Ÿæ— ç©·, åªè¦ nums[0] > nums[1], 0 å°±æ˜¯å³°å€¼
        if nums[0] > nums[1]: return 0
        # ğŸ›¡ï¸ è¾¹ç•Œ 3: æ£€æŸ¥æœ€åä¸€ä¸ªä½ç½®
        # å› ä¸º nums[n] ä¸ºè´Ÿæ— ç©·, åªè¦ nums[n-1] > nums[n-2], n-1 å°±æ˜¯å³°å€¼
        if nums[n - 1] > nums[n - 2]: return n - 1
        # âš¡ï¸ äºŒåˆ†æŸ¥æ‰¾ä¸­é—´éƒ¨åˆ†
        # å·§å¦™ç‚¹: èŒƒå›´é™åˆ¶åœ¨ [1, n-2], ç¡®ä¿ m-1 å’Œ m+1 æ°¸è¿œä¸è¶Šç•Œ!
        l, r, m = 1, n - 2, 0
        ans: int = -1

        while l <= r:
            m = (l + r) // 2
            # ğŸ“‰ æƒ…å†µA: å·¦é‚»å±…æ¯”è‡ªå·±å¤§ (ä¸‹å¡)
            # è¯´æ˜å·¦ä¾§è‚¯å®šæœ‰å³°å€¼, å¾€å·¦æ‰¾
            if nums[m - 1] > nums[m]:
                r = m - 1
            # ğŸ“ˆ æƒ…å†µB: å³é‚»å±…æ¯”è‡ªå·±å¤§ (ä¸Šå¡)
            # è¯´æ˜å³ä¾§è‚¯å®šæœ‰å³°å€¼, å¾€å³æ‰¾
            elif nums[m] < nums[m + 1]:
                l = m + 1
            # ğŸ¯ æƒ…å†µC: æ¯”å·¦è¾¹å¤§ä¸”æ¯”å³è¾¹å¤§ (nums[m-1] < nums[m] > nums[m+1])
            # æ‰¾åˆ°äº†å±±é¡¶!
            else:
                ans = m
                break
        return ans
```





## ğŸ“ çŸ¥è¯†ç‚¹æ€»ç»“

| åœºæ™¯                 | å…³é”®é€»è¾‘            | å¤‡æ³¨                               |
| :------------------- | :------------------ | :--------------------------------- |
| **å­˜åœ¨æ€§åˆ¤æ–­**       | `arr[mid] == num`   | ç»å…¸äºŒåˆ†ï¼Œæ‰¾åˆ°å³è¿”å›               |
| **æ‰¾ >= num æœ€å·¦**   | `arr[mid] >= num`   | è®°å½•ç­”æ¡ˆï¼Œr å‘å·¦ç¼© (`r = mid - 1`) |
| **æ‰¾ <= num æœ€å³**   | `arr[mid] <= num`   | è®°å½•ç­”æ¡ˆï¼Œl å‘å³æ‰© (`l = mid + 1`) |
| **å±€éƒ¨æœ€å¤§å€¼(å³°å€¼)** | æ¯”è¾ƒ mid ä¸ç›¸é‚»å…ƒç´  | çˆ¬å¡é€»è¾‘ï¼šå“ªè¾¹é«˜å¾€å“ªè¾¹èµ°           |