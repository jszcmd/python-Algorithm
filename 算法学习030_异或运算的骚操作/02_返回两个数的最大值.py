""" ä¸ç”¨æ¯”è¾ƒç¬¦å·å’Œåˆ¤æ–­ ---> è¿”å›ä¸¤ä¸ªæ•°çš„æœ€å¤§å€¼ (Python ç®€åŒ–ç‰ˆ) """


# =======================================================
# 1. åŸºç¡€å·¥å…·: flip
# =======================================================
# ä½œç”¨: ä½çš„åè½¬ -> 0å˜1, 1å˜0
# å¿…é¡»ä¿è¯è¾“å…¥ n åªèƒ½æ˜¯ 0 æˆ– 1
def flip(n: int) -> int:
    return n ^ 1


# =======================================================
# 2. æ ¸å¿ƒé€»è¾‘: sign (è·å–"éè´Ÿ"çŠ¶æ€)
# =======================================================
# è¿™é‡Œçš„é€»è¾‘æ˜¯ç»è¿‡è½¬æ¢çš„ï¼Œä¸“é—¨ä¸ºäº† getMax æœåŠ¡ï¼š
# åŸå§‹ç¬¦å·ä½: (n >> 31) & 1  -> 0(éè´Ÿ), 1(è´Ÿ)
# æˆ‘ä»¬æœŸæœ›çš„:                -> 1(éè´Ÿ), 0(è´Ÿ)
# æ‰€ä»¥è¿™é‡ŒåŠ äº†ä¸€ä¸ª flip
def sign(n: int) -> int:
    # ğŸ Python æ³¨æ„ç‚¹:
    # è´Ÿæ•°å³ç§»é«˜ä½å…¨æ˜¯1,å¿…é¡» & 1 æˆªæ–­,åªå–æœ€åä¸€ä½
    original_sign = (n >> 31) & 1
    return flip(original_sign)


# =======================================================
# 3. ä¸»å‡½æ•°: getMax
# =======================================================
# Python ç‰¹ä¾›ç‰ˆ: ä¾èµ– Python ä¸ä¼šæº¢å‡ºçš„ç‰¹æ€§,ç›´æ¥åšå‡æ³•
def getMax(a: int, b: int) -> int:
    c: int = a - b

    # è·å– c çš„ç¬¦å·çŠ¶æ€
    # å¦‚æœ c >= 0 (å³ a >= b): sign(c) è¿”å› 1
    # å¦‚æœ c < 0  (å³ a <  b): sign(c) è¿”å› 0
    returnA: int = sign(c)

    # returnB æ°¸è¿œå’Œ returnA ç›¸å
    # a >= b æ—¶: returnB ä¸º 0
    # a <  b æ—¶: returnB ä¸º 1
    returnB: int = flip(returnA)

    # äº’æ–¥é€»è¾‘:
    # å¦‚æœ a å¤§,è¿”å› 1*a + 0*b
    # å¦‚æœ b å¤§,è¿”å› 0*a + 1*b
    return a * returnA + b * returnB


# ç‰›å®¢æµ‹è¯•é“¾æ¥:https://www.nowcoder.com/practice/d2707eaf98124f1e8f1d9c18ad487f76
# ç‰›å®¢çš„æ•°æ®æ˜¯32ä½çš„æœ‰ç¬¦å·çš„intç±»å‹çš„,ä¸‹é¢å³ç§»31ä½æ˜¯å¤Ÿç”¨çš„
class Solution:
    # 1. åŸºç¡€å·¥å…·: flip
    def flip(self, n: int) -> int:
        return n ^ 1

    # 2. æ ¸å¿ƒé€»è¾‘: sign
    def sign(self, n: int) -> int:
        return self.flip((n >> 31) & 1)

    # 3. ä¸»å‡½æ•°: getMax
    def getMax(self, a: int, b: int) -> int:
        c = a - b
        returnA = self.sign(c)
        returnB = self.flip(returnA)
        return a * returnA + b * returnB


if __name__ == '__main__':
    print(f"getMax(5, 10)   = {getMax(5, 10)}")  # åº”è¯¥è¾“å‡º 10
    print(f"getMax(10, 5)   = {getMax(10, 5)}")  # åº”è¯¥è¾“å‡º 10
    print(f"getMax(-5, -10) = {getMax(-5, -10)}")  # åº”è¯¥è¾“å‡º -5

    # Python ç”šè‡³èƒ½å¤„ç†æå¤§æ•°,ä¸ä¼šæº¢å‡º:
    # ä½†æ˜¯æˆ‘ä»¬å°±åªæ˜¯ç§»åŠ¨äº†31ä½,ä¸‹é¢çš„æ•°å¤ªå¤§äº†,ä»…ä»…ç§»åŠ¨31ä½æ˜¯ä¸å¤Ÿçš„,æ‰€ä»¥è¾“å‡ºçš„ç»“æœæ˜¯:big_b
    big_a = 2147483647000
    big_b = -2147483648000
    print(f"å¤§æ•°æµ‹è¯• = {getMax(big_a, big_b)}")
