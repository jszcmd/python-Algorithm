## 插入排序

def insert_sort(arr: list[int]) -> list[int]:
    """
    📥 插入排序算法
    🎯 将每个元素插入到前面已排序序列的正确位置
    ⏱️ 时间复杂度:
        - 最好情况 O(n) - 数组已有序
        - 最坏情况 O(n²) - 数组逆序
        - 平均情况 O(n²)
    💾 空间复杂度: O(1)
    📊 稳定性: 稳定

    Args: arr待排序的整数列表

    Returns: 排序后的整数列表 (原地修改)
    """
    n = len(arr)
    # 🚨 边界情况:空数组或单元素数组直接返回
    if n <= 1:
        return arr

    # 🔁 外层循环：从第二个元素开始遍历
    # 📥 每个元素都需要插入到前面已排序序列中
    for i in range(1, n):
        # 🔄 内层循环：从当前位置向前比较
        # ⬅️ 将当前元素插入到正确位置
        for j in range(i, 0, -1):
            # 🔍 如果当前元素小于前一个元素,交换位置
            if arr[j] < arr[j - 1]:
                # 🔄 交换相邻元素
                arr[j - 1], arr[j] = arr[j], arr[j - 1]
            else:
                # ✅ 当前元素已处于正确位置,提前结束内层循环
                break

    return arr


# 🧪 测试示例
if __name__ == "__main__":
    test_arr = [12, 11, 13, 5, 6]
    print("🧪 原始数组:", test_arr)

    sorted_arr = insert_sort(test_arr)
    print("✅ 排序结果:", sorted_arr)

    # 🎯 执行过程示例:
    # 初始: [12, 11, 13, 5, 6]
    # 第1轮: [11, 12, 13, 5, 6]  ← 插入11
    # 第2轮: [11, 12, 13, 5, 6]  ← 13已在正确位置
    # 第3轮: [5, 11, 12, 13, 6]  ← 插入5
    # 第4轮: [5, 6, 11, 12, 13]  ← 插入6
